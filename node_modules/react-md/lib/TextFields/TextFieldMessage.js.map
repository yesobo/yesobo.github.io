{"version":3,"sources":["../../src/js/TextFields/TextFieldMessage.js"],"names":["TextFieldMessage","props","state","message","error","errorText","helpText","isMessageVisible","_isMessageVisible","nextProps","keys","_anyChanges","setState","p1","p2","changed","some","key","helpOnFocus","active","maxLength","className","currentLength","leftIcon","rightIcon","block","disabled","propTypes","string","bool","node","number"],"mappings":"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","file":"TextFieldMessage.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport themeColors from '../utils/themeColors';\nimport Message from './Message';\n\nexport default class TextFieldMessage extends PureComponent {\n  static propTypes = {\n    className: PropTypes.string,\n    error: PropTypes.bool,\n    helpText: PropTypes.node,\n    errorText: PropTypes.node,\n    active: PropTypes.bool,\n    helpOnFocus: PropTypes.bool,\n    maxLength: PropTypes.number,\n    currentLength: PropTypes.number,\n    leftIcon: PropTypes.bool,\n    rightIcon: PropTypes.bool,\n    block: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      message: (props.error && props.errorText) || props.helpText || props.errorText,\n      isMessageVisible: this._isMessageVisible(props),\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const keys = ['active', 'error', 'helpOnFocus', 'helpText', 'errorText'];\n    if (this._anyChanges(keys, this.props, nextProps)) {\n      this.setState({\n        isMessageVisible: this._isMessageVisible(nextProps),\n        message: (nextProps.error && nextProps.errorText) || nextProps.helpText || nextProps.errorText,\n      });\n    }\n  }\n\n  _anyChanges(keys, p1, p2) {\n    let changed = false;\n    keys.some(key => {\n      if (p1[key] !== p2[key]) {\n        changed = true;\n      }\n\n      return changed;\n    });\n\n    return changed;\n  }\n\n  _isMessageVisible(props) {\n    const { error, errorText, helpText, helpOnFocus, active } = props;\n    if (error && errorText) {\n      return true;\n    }\n\n    return !!(helpText && (!helpOnFocus || active));\n  }\n\n  render() {\n    const {\n      maxLength,\n      error,\n      className,\n      errorText,\n      helpText,\n      currentLength,\n      leftIcon,\n      rightIcon,\n      block,\n      active,\n    } = this.props;\n    const { isMessageVisible, message } = this.state;\n\n    if (currentLength === 'undefined' || (!helpText && !errorText && !maxLength)) {\n      return null;\n    }\n\n    return (\n      <div\n        className={cn('md-text-field-message-container', {\n          'md-text-field-message-container--count-only': !message || !isMessageVisible,\n          'md-text-field-message-container--left-icon-offset': leftIcon,\n          'md-text-field-message-container--right-icon-offset': rightIcon,\n          'md-full-width': !block,\n        }, themeColors({ error, disabled: !error }), className)}\n      >\n        <Message key=\"message\" active={isMessageVisible}>{message}</Message>\n        <Message key=\"counter\" className=\"md-text-field-message--counter\" active={active}>\n          {maxLength ? `${currentLength} / ${maxLength}` : null}\n        </Message>\n      </div>\n    );\n  }\n}\n"]}