{"version":3,"sources":["../../src/js/Inks/injectInk.js"],"names":["createInk","pageX","pageY","_inkContainer","props","disabled","inkDisabled","focus","getComposedComponent","_composed","_setInkRef","inkContainer","_setComposedComponent","component","ref","__SUPER_SECRET_REF__","transitionOverlap","inkTransitionOverlap","transitionEnterTimeout","inkTransitionEnterTimeout","transitionLeaveTimeout","inkTransitionLeaveTimeout","inkStyle","inkClassName","inkContainerStyle","inkContainerClassName","waitForInkTransition","disabledInteractions","pulse","propInkDisabled","context","inkDisabledInteractions","ink","displayName","ComposedComponent","propTypes","object","string","bool","number","isRequired","arrayOf","oneOf","func","defaultProps","contextTypes"],"mappings":"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","file":"injectInk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport getField from '../utils/getField';\nimport getDisplayName from '../utils/StringUtils/getDisplayName';\n\nimport InkContainer from './InkContainer';\nimport inkContextTypes from './inkContextTypes';\n\n/**\n * Takes any component and injects an ink container for having the Material Design Ink effect.\n *\n * The default triggers for an ink are:\n * - mouse down event\n * - touch start event\n * - keyboard focus\n * - form submit\n *\n * The form submit ink will only be triggered if the `ComposedComponent` has the attribute\n * `type=\"submit\"`, the `ComposedComponent` is in a form, and the user hits the `enter` key\n * while not actively focusing the `ComposedComponent`.\n *\n * ```js\n * @param {function} ComposedComponent - The React Component to inject an `ink` prop into.\n * @return {function} a new React class rendering the `ComposedComponent` and adding an\n *    `ink` pop.\n * ```\n */\nexport default ComposedComponent => class InkedComponent extends PureComponent {\n  static displayName = getDisplayName(ComposedComponent, 'Ink');\n  static propTypes = {\n    /**\n     * An optional style to apply to each ink that gets generated.\n     */\n    inkStyle: PropTypes.object,\n\n    /**\n     * An optional className to apply to each ink that gets generated.\n     */\n    inkClassName: PropTypes.string,\n\n    /**\n     * An optional style to apply to the ink's container.\n     */\n    inkContainerStyle: PropTypes.object,\n\n    /**\n     * An optional className to apply to the ink's container.\n     */\n    inkContainerClassName: PropTypes.string,\n\n    /**\n     * Boolean if the composed component or the ink is disabled.\n     */\n    disabled: PropTypes.bool,\n\n    /**\n     * Boolean if only the ink is disabled for the composed component.\n     */\n    inkDisabled: PropTypes.bool,\n\n    /**\n     * The time (in ms) that the enter and leave transitions for the ink should overlap.\n     * This really just allows for a more _fluid_ looking ink when something is quickly\n     * touched or clicked by having it fade out while growing.\n     */\n    inkTransitionOverlap: PropTypes.number.isRequired,\n\n    /**\n     * The transition time for the ink to be considered fully entered. This should really\n     * map up to whatever value you set for `$md-ink-enter-transition-time`.\n     */\n    inkTransitionEnterTimeout: PropTypes.number.isRequired,\n\n    /**\n     * The transition time for the ink to be considered fully leaved (left?). This should really\n     * map up to whatever value you set for `$md-ink-leave-transition-time`.\n     */\n    inkTransitionLeaveTimeout: PropTypes.number.isRequired,\n\n    /**\n     * Boolean if the `ComposedComponent`'s click event only after the ink has finished transitioning\n     * in and out. This is really only to get a more _fluid_ looking click event when clicking on\n     * the `ComposedComponent` ends up taking it out of the view. (ex: Closing a Dialog).\n     */\n    waitForInkTransition: PropTypes.bool,\n\n    /**\n     * An optional array of interactions that can be disabled for the ink. This is a *very* limited\n     * use case where `Switches` needed the ink disabled only when using a mouse.\n     */\n    disabledInteractions: PropTypes.arrayOf(PropTypes.oneOf(['keyboard', 'mouse', 'touch'])),\n\n    /**\n     * Boolean if the ink should do a pulse animation while focused. This was enabled by default in\n     * previous versions.\n     */\n    pulse: PropTypes.bool,\n\n    /**\n     * When using inked components in a `TransitionGroup`, the ref callback is not actually invoked.\n     * This is a little _hack_ to get it to work by not using `ref`, but this name.\n     */\n    __SUPER_SECRET_REF__: PropTypes.func,\n  };\n\n  static defaultProps = {\n    inkTransitionOverlap: 150,\n    inkTransitionEnterTimeout: 450,\n    inkTransitionLeaveTimeout: 300,\n  };\n\n  static contextTypes = inkContextTypes;\n\n  componentDidMount() {\n    const { __SUPER_SECRET_REF__: ref } = this.props;\n    // Emulate the ref callback...\n    if (ref) {\n      ref(this);\n    }\n  }\n\n  componentWillUnmount() {\n    const { __SUPER_SECRET_REF__: ref } = this.props;\n    // Emulate the ref callback...\n    if (ref) {\n      ref(null);\n    }\n  }\n\n  /**\n   * A publicly accessible way to manually create an ink. This can be used with the `refs`.\n   * The ink can either be created by using the `pageX` and `pageY` from a click/touch event\n   * or it will be created in the center of the `ComposedComponent`.\n   *\n   * ```js\n   * <SomeInkedComponent ref={inkHOC => inkHOC.createInk()} />\n   * ```\n   *\n   * @param {number=} pageX - An optional pageX of the click or touch event.\n   * @param {number=} pageY - An optional pageY of the click or touch event.\n   */\n  createInk = (pageX, pageY) => {\n    if (this._inkContainer && !this.props.disabled && !this.props.inkDisabled) {\n      this._inkContainer.createInk(pageX, pageY);\n    }\n  };\n\n  /**\n   * This will attempt to focus the composed component. If the component is disabled, nothing\n   * will happen. If the `disabled` and `inkDisabled` props are not set to `true`, an ink will\n   * also be created.\n   *\n   * ```js\n   * <SomeInkedComponent ref={inkHOC => inkHOC.focus()} />\n   * ```\n   */\n  focus = () => {\n    if (this._inkContainer) {\n      this._inkContainer.focus();\n    }\n  };\n\n  /**\n   * Gets the composed component as a ref. This is useful if you need to access the ref of the\n   * composed component instead of the `injectInk` HOC to use some publicly accessible methods.\n   *\n   * ```js\n   * <SomeInkedComponent\n   *   ref={inkHOC => {\n   *     inkHOC.getComposedComponent().focus();\n   *   }}\n   * />\n   * ```\n   */\n  getComposedComponent = () => this._composed;\n\n  _setInkRef= (inkContainer) => {\n    if (inkContainer) {\n      this._inkContainer = inkContainer;\n    }\n  };\n\n  _setComposedComponent = (component) => {\n    this._composed = component;\n  };\n\n  render() {\n    const {\n      inkTransitionOverlap: transitionOverlap,\n      inkTransitionEnterTimeout: transitionEnterTimeout,\n      inkTransitionLeaveTimeout: transitionLeaveTimeout,\n      inkStyle,\n      inkClassName,\n      inkContainerStyle,\n      inkContainerClassName,\n      waitForInkTransition,\n      disabledInteractions,\n      pulse,\n      inkDisabled: propInkDisabled, // eslint-disable-line no-unused-vars\n      __SUPER_SECRET_REF__, // eslint-disable-line no-unused-vars\n      ...props\n    } = this.props;\n\n    const inkDisabled = getField(this.props, this.context, 'inkDisabled');\n    const inkDisabledInteractions = typeof disabledInteractions !== 'undefined'\n      ? disabledInteractions\n      : this.context.inkDisabledInteractions;\n\n    if (!(props.disabled || inkDisabled)) {\n      props.ink = (\n        <InkContainer\n          ref={this._setInkRef}\n          key=\"ink-container\"\n          pulse={pulse}\n          style={inkContainerStyle}\n          className={inkContainerClassName}\n          inkStyle={inkStyle}\n          inkClassName={inkClassName}\n          disabledInteractions={inkDisabledInteractions}\n          transitionOverlap={transitionOverlap}\n          transitionEnterTimeout={transitionEnterTimeout}\n          transitionLeaveTimeout={transitionLeaveTimeout}\n          waitForInkTransition={waitForInkTransition}\n        />\n      );\n    }\n\n    props.ref = this._setComposedComponent;\n\n    return <ComposedComponent {...props} />;\n  }\n};\n"]}