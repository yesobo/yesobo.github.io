{"version":3,"sources":["../../src/js/Inks/Ink.js"],"names":["Ink","props","state","active","expanded","pulsing","leaving","nextProps","aborted","_timeout","clearTimeout","_abort","setState","expanding","cb","transitionOverlap","transitionEnterTimeout","setTimeout","pulse","transitionLeaveTimeout","onRemove","style","className","left","top","size","Object","assign","height","width","propTypes","object","string","bool","func","number","isRequired"],"mappings":"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","file":"Ink.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport TICK from '../constants/CSSTransitionGroupTick';\n\nexport default class Ink extends PureComponent {\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    aborted: PropTypes.bool,\n    onRemove: PropTypes.func,\n    left: PropTypes.number.isRequired,\n    top: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    transitionOverlap: PropTypes.number.isRequired,\n    transitionEnterTimeout: PropTypes.number.isRequired,\n    transitionLeaveTimeout: PropTypes.number.isRequired,\n    pulse: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      active: false,\n      expanded: false,\n      pulsing: false,\n      leaving: false,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.props.aborted && nextProps.aborted) {\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n      }\n\n      if (this._abort) {\n        this._abort();\n      }\n\n      this.setState({ active: false, expanding: false, pulsing: false, leaving: false });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n  }\n\n  componentWillEnter(cb) {\n    if (this.props.aborted) {\n      cb();\n      return;\n    }\n\n    const { transitionOverlap, transitionEnterTimeout } = this.props;\n    this._abort = cb;\n\n    this._timeout = setTimeout(() => {\n      this._timeout = setTimeout(() => {\n        this._timeout = null;\n        this._abort = null;\n\n        cb();\n      }, transitionEnterTimeout - transitionOverlap);\n\n      this.setState({ expanded: true });\n    }, TICK);\n\n    this.setState({ active: true });\n  }\n\n  componentDidEnter() {\n    if (this.props.pulse) {\n      this._timeout = setTimeout(() => {\n        this._timeout = null;\n\n        this.setState({ pulsing: true });\n      }, this.props.transitionEnterTimeout);\n    }\n  }\n\n  componentWillLeave(cb) {\n    if (this.props.aborted) {\n      cb();\n      return;\n    }\n\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n\n    this._abort = cb;\n    this._timeout = setTimeout(() => {\n      this._timeout = null;\n\n      cb();\n    }, this.props.transitionLeaveTimeout);\n\n\n    this.setState({ pulsing: false, leaving: true });\n  }\n\n  componentDidLeave() {\n    if (!this.props.aborted && this.props.onRemove) {\n      this.props.onRemove();\n    }\n  }\n\n  render() {\n    const {\n      style,\n      className,\n      left,\n      top,\n      size,\n    } = this.props;\n    const { active, expanded, pulsing, leaving } = this.state;\n\n    return (\n      <span\n        style={Object.assign({}, style, {\n          left,\n          top,\n          height: size,\n          width: size,\n        })}\n        className={cn('md-ink', {\n          'md-ink--active': active,\n          'md-ink--expanded': expanded,\n          'md-ink--pulsing': pulsing,\n          'md-ink--leaving': leaving,\n        }, className)}\n      />\n    );\n  }\n}\n"]}