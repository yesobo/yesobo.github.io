{"version":3,"sources":["../../src/js/Dialogs/DialogFooter.js"],"names":["FOOTER_PADDING","DialogFooter","state","stacked","_setContainer","container","_container","maxWidth","offsetWidth","Array","prototype","slice","call","querySelectorAll","some","setState","_generateActions","actions","props","isArray","map","_toElement","action","index","button","only","key","className","label","children","remaining","propStacked","length","stackedDefined","propTypes","style","object","string","node","oneOfType","element","arrayOf","bool"],"mappings":"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","file":"DialogFooter.js","sourcesContent":["import React, { PureComponent, Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport Button from '../Buttons/Button';\n\nconst FOOTER_PADDING = 8;\n\nexport default class DialogFooter extends PureComponent {\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    actions: PropTypes.oneOfType([\n      PropTypes.element,\n      PropTypes.object,\n      PropTypes.arrayOf(PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.object,\n      ])),\n    ]),\n    stacked: PropTypes.bool,\n  };\n\n  state = { stacked: false };\n\n  _toElement(action, index) {\n    if (isValidElement(action)) {\n      const button = Children.only(action);\n\n      return cloneElement(action, {\n        key: button.key || index,\n        className: cn('md-btn--dialog', button.props.className),\n      });\n    }\n\n    // Both label and children are valid for dialog actions\n    const { label, children, ...remaining } = action;\n    return (\n      <Button\n        key={index}\n        flat\n        {...remaining}\n        className={cn('md-btn--dialog', action.className)}\n      >\n        {label || children}\n      </Button>\n    );\n  }\n\n  _setContainer = (container) => {\n    if (container !== null) {\n      this._container = container;\n      const maxWidth = (this._container.offsetWidth - (FOOTER_PADDING * 3)) / 2;\n\n      let stacked = false;\n      Array.prototype.slice.call(this._container.querySelectorAll('.md-btn'))\n        .some(({ offsetWidth }) => {\n          stacked = offsetWidth > maxWidth;\n          return stacked;\n        });\n\n      this.setState({ stacked });\n    }\n  };\n\n  _generateActions = () => {\n    const { actions } = this.props;\n    if (!actions) {\n      return null;\n    } else if (Array.isArray(actions)) {\n      return actions.map(this._toElement);\n    }\n\n    return this._toElement(actions);\n  };\n\n  render() {\n    const {\n      actions,\n      className,\n      children,\n      stacked: propStacked,\n      ...props\n    } = this.props;\n\n    if (!children && (!actions || (Array.isArray(actions) && !actions.length))) {\n      return null;\n    }\n\n    let { stacked } = this.props;\n    const stackedDefined = typeof propStacked !== 'undefined';\n    if (!stackedDefined) {\n      stacked = this.state.stacked;\n    }\n\n    return (\n      <footer\n        {...props}\n        className={cn('md-dialog-footer', {\n          'md-dialog-footer--inline': !stacked,\n          'md-dialog-footer--stacked': stacked,\n        }, className)}\n        ref={!stackedDefined ? this._setContainer : null}\n      >\n        {this._generateActions()}\n        {children}\n      </footer>\n    );\n  }\n}\n"]}