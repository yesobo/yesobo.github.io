{"version":3,"sources":["../../src/js/SelectFields/SelectFieldInput.js"],"names":["SelectFieldInput","state","transition","_timeout","_transitionNewValue","props","transitionTime","transitionName","clearTimeout","setTimeout","setState","nextProps","value","id","className","name","label","placeholder","active","activeLabel","error","disabled","required","toolbar","below","lineDirection","dropdownIcon","iconChildren","iconClassName","divider","visibleLabel","labelActive","icon","cloneElement","hint","text","propTypes","oneOfType","number","string","style","object","isRequired","bool","node","element","defaultProps"],"mappings":"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","file":"SelectFieldInput.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport TICK from '../constants/CSSTransitionGroupTick';\nimport themeColors from '../utils/themeColors';\nimport FontIcon from '../FontIcons/FontIcon';\nimport AccessibleFakeInkedButton from '../Helpers/AccessibleFakeInkedButton';\nimport IconSeparator from '../Helpers/IconSeparator';\nimport Paper from '../Papers/Paper';\nimport TextFieldDivider from '../TextFields/TextFieldDivider';\n\nexport default class SelectFieldInput extends PureComponent {\n  static propTypes = {\n    id: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n    style: PropTypes.object,\n    className: PropTypes.string,\n    name: PropTypes.string,\n    value: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]).isRequired,\n    disabled: PropTypes.bool,\n    required: PropTypes.bool,\n    label: PropTypes.node,\n    placeholder: PropTypes.string,\n    active: PropTypes.bool,\n    activeLabel: PropTypes.node,\n    below: PropTypes.bool,\n    error: PropTypes.bool,\n    toolbar: PropTypes.bool,\n    dropdownIcon: PropTypes.element,\n    iconClassName: PropTypes.string,\n    iconChildren: PropTypes.node,\n    transitionName: PropTypes.string.isRequired,\n    transitionTime: PropTypes.number.isRequired,\n    lineDirection: TextFieldDivider.propTypes.lineDirection,\n  };\n\n  static defaultProps = {\n    transitionName: 'md-drop',\n    transitionTime: 300,\n  };\n\n  state = { transition: null };\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.value !== nextProps.value) {\n      this._transitionNewValue();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n  }\n\n  _timeout = null;\n  _transitionNewValue = () => {\n    const { transitionTime, transitionName } = this.props;\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n\n    this._timeout = setTimeout(() => {\n      this._timeout = setTimeout(() => {\n        this._timeout = null;\n        this.setState({ transition: null });\n      }, transitionTime);\n\n      this.setState({ transition: `${this.state.transition} ${transitionName}-enter-active` });\n    }, TICK);\n\n    this.setState({ transition: `${transitionName}-enter` });\n  };\n\n  render() {\n    const {\n      id,\n      className,\n      name,\n      value,\n      label,\n      placeholder,\n      active,\n      activeLabel,\n      error,\n      disabled,\n      required,\n      toolbar,\n      below,\n      lineDirection,\n      dropdownIcon,\n\n      // deprecated\n      iconChildren,\n      iconClassName,\n      /* eslint-disable no-unused-vars */\n      transitionName,\n      transitionTime,\n      /* eslint-enable no-unused-vars */\n      ...props\n    } = this.props;\n\n    const { transition } = this.state;\n\n    let divider;\n    if (!below && !toolbar) {\n      divider = (\n        <TextFieldDivider\n          key=\"text-divider\"\n          active={active}\n          error={error}\n          lineDirection={lineDirection}\n          className=\"md-divider--select-field\"\n        />\n      );\n    }\n\n    let visibleLabel = activeLabel;\n    if (!activeLabel && activeLabel !== 0) {\n      visibleLabel = ((!label || active) && placeholder) || '';\n    }\n\n    const labelActive = !!activeLabel || activeLabel === 0;\n\n    let icon = dropdownIcon;\n    if (iconClassName || iconChildren) {\n      icon = <FontIcon iconClassName={iconClassName}>{iconChildren}</FontIcon>;\n    }\n    icon = React.cloneElement(icon, { disabled });\n\n    return (\n      <AccessibleFakeInkedButton\n        {...props}\n        id={`${id}-toggle`}\n        role=\"listbox\"\n        disabled={disabled}\n        component={Paper}\n        zDepth={below && active ? 1 : 0}\n        inkDisabled={!below}\n        className={cn('md-select-field', themeColors({\n          disabled,\n          hint: !labelActive && placeholder,\n          text: labelActive,\n        }), className)}\n      >\n        <IconSeparator\n          label={visibleLabel}\n          labelClassName={transition}\n          className={cn('md-text-field', {\n            'md-text-field--margin': !below && !label,\n            'md-text-field--floating-margin': label,\n            'md-text-field--toolbar': toolbar && !below,\n            'md-select-field--text-field': !below,\n            'md-select-field--btn': below,\n          })}\n        >\n          {icon}\n        </IconSeparator>\n        {divider}\n        <input\n          key=\"value\"\n          type=\"hidden\"\n          id={id}\n          name={name}\n          value={value}\n          required={required}\n          disabled={disabled}\n        />\n      </AccessibleFakeInkedButton>\n    );\n  }\n}\n"]}