{"version":3,"sources":["../../src/js/Pickers/TimePicker.js"],"names":["TimePicker","_updateTime","newTime","timePart","props","tempTime","setTempTime","timeMode","timePeriod","time","Date","isAM","is12","setHours","setMinutes","_handleTimeChosen","hoverMode","setTimeMode","onOkClick","okLabel","okPrimary","cancelLabel","cancelPrimary","onCancelClick","style","className","hours","minutes","displayMode","inline","icon","hoursInt","parseInt","minutesInt","replace","actions","key","onClick","primary","secondary","label","propTypes","object","string","node","isRequired","bool","func","DateTimeFormat","locales","oneOfType","arrayOf","oneOf","instanceOf"],"mappings":"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","file":"TimePicker.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport ClockFace from './ClockFace';\nimport DialogFooter from '../Dialogs/DialogFooter';\nimport TimePickerHeader from './TimePickerHeader';\n\n/**\n * The `TimePicker` component is used to display a time picker\n * in the `TimePickerContainer` component.\n */\nexport default class TimePicker extends PureComponent {\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    okLabel: PropTypes.node.isRequired,\n    okPrimary: PropTypes.bool.isRequired,\n    onOkClick: PropTypes.func.isRequired,\n    cancelLabel: PropTypes.node.isRequired,\n    cancelPrimary: PropTypes.bool.isRequired,\n    onCancelClick: PropTypes.func.isRequired,\n    DateTimeFormat: PropTypes.func.isRequired,\n    locales: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]).isRequired,\n    icon: PropTypes.bool,\n    inline: PropTypes.bool,\n    displayMode: PropTypes.oneOf(['landscape', 'portrait']),\n\n    /**\n     * A function that will switch the state from hour to minute.\n     */\n    setTimeMode: PropTypes.func.isRequired,\n\n    /**\n     * A function that will update the time for the TimePicker before\n     * the user selects ok. This function will be given a new Date object\n     * with a modified time.\n     */\n    setTempTime: PropTypes.func.isRequired,\n\n    /**\n     * The current display mode of the time picker.\n     */\n    timeMode: PropTypes.oneOf(['hour', 'minute']).isRequired,\n\n    /**\n     * The current time as a date object that is being displayed in the\n     * time picker.\n     */\n    tempTime: PropTypes.instanceOf(Date).isRequired,\n\n    /**\n     * A string that is a representation of the hours in the user's locale.\n     */\n    hours: PropTypes.string.isRequired,\n\n    /**\n     * A string that is a representation of the minutes in the user's locale.\n     * This will also include any separator the locale uses.\n     *\n     * Example: ':15' in '3:15 PM' for 'en-US'\n     */\n    minutes: PropTypes.string.isRequired,\n\n    /**\n     * An optional time period if a user's locale uses it.\n     */\n    timePeriod: PropTypes.string,\n\n    /**\n     * If true the hover mode of the Time Picker is activated.\n     * In hover mode no clicks are required to start selecting an hour\n     * and the timemode switches automatically when a time was chosen.\n     * When a minute is selected the chosen time is applied automatically.\n     */\n    hoverMode: PropTypes.bool,\n  };\n\n  /**\n   * Takes in the new time (number o'clock or minutes), updates the temp time\n   * with that new time, and then calls the setTempTime prop.\n   */\n  _updateTime = (newTime) => {\n    let timePart = newTime;\n    const { tempTime, setTempTime, timeMode, timePeriod } = this.props;\n    const time = new Date(tempTime);\n    if (timeMode === 'hour') {\n      const isAM = timePeriod === 'AM';\n      const is12 = timePart === 12;\n      if (timePeriod && isAM && is12) {\n        timePart = 0;\n      } else if (timePeriod && !isAM && !is12) {\n        timePart += 12;\n      }\n\n      time.setHours(timePart);\n    } else {\n      time.setMinutes(timePart);\n    }\n\n    setTempTime(time);\n  };\n\n  _handleTimeChosen = () => {\n    const { hoverMode, setTimeMode, onOkClick, timeMode } = this.props;\n\n    if (hoverMode) {\n      if (timeMode === 'hour') {\n        setTimeMode('minute');\n      } else {\n        onOkClick();\n      }\n    }\n  };\n\n  render() {\n    const {\n      okLabel,\n      okPrimary,\n      onOkClick,\n      cancelLabel,\n      cancelPrimary,\n      onCancelClick,\n      style,\n      className,\n      setTimeMode,\n      setTempTime,\n      timeMode,\n      tempTime,\n      hours,\n      minutes,\n      timePeriod,\n      displayMode,\n      inline,\n      icon,\n      hoverMode,\n    } = this.props;\n\n    const hoursInt = parseInt(hours, 10);\n    const minutesInt = parseInt(minutes.replace(/[^0-9]/g, ''), 10);\n    const actions = [{\n      key: 'cancel',\n      onClick: onCancelClick,\n      primary: cancelPrimary,\n      secondary: !cancelPrimary,\n      label: cancelLabel,\n    }, {\n      key: 'ok',\n      onClick: onOkClick,\n      primary: okPrimary,\n      secondary: !okPrimary,\n      label: okLabel,\n    }];\n\n    return (\n      <div\n        style={style}\n        className={cn('md-picker md-picker--time', {\n          [`md-picker--${displayMode}`]: displayMode,\n          'md-picker--inline': inline,\n          'md-picker--inline-icon': inline && icon,\n        }, className)}\n      >\n        <TimePickerHeader\n          tempTime={tempTime}\n          timeMode={timeMode}\n          setTimeMode={setTimeMode}\n          setTempTime={setTempTime}\n          hours={hours}\n          minutes={minutes}\n          timePeriod={timePeriod}\n        />\n        <div className=\"md-picker-content-container\">\n          <div className=\"md-picker-content md-picker-content--clock\">\n            <ClockFace\n              time={timeMode === 'hour' ? hoursInt : minutesInt}\n              minutes={timeMode === 'minute'}\n              onChange={this._updateTime}\n              timePeriod={timePeriod}\n              hoverMode={hoverMode}\n              onTimeChosen={this._handleTimeChosen}\n            />\n          </div>\n          <DialogFooter actions={actions} />\n        </div>\n      </div>\n    );\n  }\n}\n"]}