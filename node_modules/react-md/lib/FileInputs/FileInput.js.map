{"version":3,"sources":["../../src/js/FileInputs/FileInput.js"],"names":["FileInput","state","hover","pressed","value","_handleChange","e","props","multiple","onChange","allowDuplicates","target","files","Array","prototype","slice","call","setState","_blur","disabled","_timeout","_attemptedBlur","_handleMouseUp","onMouseUp","_handleMouseDown","onMouseDown","_handleTouchStart","onTouchStart","_handleTouchEnd","onTouchEnd","_handleKeyUp","onKeyUp","which","keyCode","window","addEventListener","_handleKeyDown","onKeyDown","key","removeEventListener","preventDefault","click","_handleMouseOver","onMouseOver","_handleMouseLeave","onMouseLeave","nextProps","nextState","setTimeout","clearTimeout","style","className","labelStyle","labelClassName","label","primary","secondary","flat","id","name","iconBefore","accept","swapTheming","iconChildren","iconClassName","propIcon","icon","propValue","labelChildren","cloneElement","inherit","raised","propTypes","oneOfType","string","number","object","bool","node","element","func","defaultProps"],"mappings":"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","file":"FileInput.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport isRequiredForA11y from 'react-prop-types/lib/isRequiredForA11y';\nimport deprecated from 'react-prop-types/lib/deprecated';\n\nimport { TAB, SPACE, ENTER } from '../constants/keyCodes';\nimport getField from '../utils/getField';\nimport captureNextEvent from '../utils/EventUtils/captureNextEvent';\nimport getBtnStyles from '../Buttons/getBtnStyles';\nimport FontIcon from '../FontIcons/FontIcon';\nimport IconSeparator from '../Helpers/IconSeparator';\nimport AccessibleFakeInkedButton from '../Helpers/AccessibleFakeInkedButton';\n\n/**\n * The `FileInput` component is used as simple styling for the `<input type=\"file\" />`.\n * It will style the input as a raised button by default.\n */\nexport default class FileInput extends PureComponent {\n  static propTypes = {\n    /**\n     * The id for the text field. This is required for a11y and to get the `input type=\"file\"` to\n     * open.\n     */\n    id: isRequiredForA11y(PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ])),\n\n    /**\n     * An optional name to provide to the input.\n     */\n    name: PropTypes.string,\n\n    /**\n     * An optional style to apply.\n     */\n    style: PropTypes.object,\n\n    /**\n     * An optional className to apply.\n     */\n    className: PropTypes.string,\n\n    /**\n     * An optional style to apply to the label.\n     */\n    labelStyle: PropTypes.object,\n\n    /**\n     * An optional className to apply to the label.\n     */\n    labelClassName: PropTypes.string,\n\n    /**\n     * Boolean if the `FileInput` should be styled with the primary color.\n     */\n    primary: PropTypes.bool,\n\n    /**\n     * Boolean if the `FileInput` should be styled with the secondary color.\n     */\n    secondary: PropTypes.bool,\n\n    /**\n     * Boolean if the `FileInput` should be styled as a flat button instead of a\n     * raised button.\n     */\n    flat: PropTypes.bool,\n\n    /**\n     * Boolean if the theming should be swapped from text to background or vice-versa.\n     *\n     * @see {@link Buttons/Button#swapTheming}\n     */\n    swapTheming: PropTypes.bool,\n\n    /**\n     * This should be a comma separated list of Media Types that the `FileInput` can\n     * accept. If this prop is left blank, any file will be accepted.\n     *\n     * The values can either be:\n     * - A file extension\n     * - audio/*\n     * - video/*\n     * - image/*\n     * - any valid [IANA Media Type](http://www.iana.org/assignments/media-types/media-types.xhtml)\n     *\n     * > NOTE: IE does not enforce this.\n     */\n    accept: PropTypes.string,\n\n    /**\n     * Boolean if the same file is allowed to be uploaded multiple times. This will basically make the\n     * `value` of the file input always blank.\n     */\n    allowDuplicates: PropTypes.bool,\n\n    /**\n     * Boolean if multiple files will be accepted.\n     */\n    multiple: PropTypes.bool,\n\n    /**\n     * A label to display on the `FileInput`. This will be used with the `AccessibleFakeInkedButton` component to\n     * create a `<label>` for the `<input type=\"file\">`.\n     */\n    label: PropTypes.node,\n\n    /**\n     * Boolean if the icons should appear before the label.\n     */\n    iconBefore: PropTypes.bool,\n\n    /**\n     * An optional icon to display with the file download. This can be a `FontIcon` or an `SVGIcon`.\n     */\n    icon: PropTypes.element,\n\n    /**\n     * A function to call when the value of the input changes. This will\n     * be triggered when the user selects a new file or cancels the new file selection.\n     *\n     * This function will be given the new [FileList](https://developer.mozilla.org/en-US/docs/Web/API/FileList)\n     * as an array and the change event. If this is not a multiple file input, only the\n     * newly selected File will be given instead of a list of one file. Since this is an\n     * `input` tag, the user will not be able to select the same file multiple times unless\n     * you manually clear the input's value.\n     *\n     * > NOTE: If the user hits cancel, null will be given for a single file input.\n     *\n     * ```js\n     * onChange(files, e);\n     * ```\n     */\n    onChange: PropTypes.func,\n\n    /**\n     * An optional value to apply to the `FileInput`. This is usually not needed and the\n     * `allowDuplicates` is what you are probably looking for instead.\n     *\n     * @see {@link #allowDuplicates}\n     */\n    value: PropTypes.string,\n\n    /**\n     * Boolean if the `FileInput` is currently disabled.\n     */\n    disabled: PropTypes.bool,\n\n    /**\n     * An optional function to call when they keyup event is triggered on the file input's label.\n     */\n    onKeyUp: PropTypes.func,\n\n    /**\n     * An optional function to call when they keydown event is triggered on the file input's label.\n     */\n    onKeyDown: PropTypes.func,\n\n    /**\n     * An optional function to call when they mouseup event is triggered on the file input's label.\n     */\n    onMouseUp: PropTypes.func,\n\n    /**\n     * An optional function to call when they mousedown event is triggered on the file input's label.\n     */\n    onMouseDown: PropTypes.func,\n\n    /**\n     * An optional function to call when they mouseover event is triggered on the file input's label.\n     */\n    onMouseOver: PropTypes.func,\n\n    /**\n     * An optional function to call when they mouseleave event is triggered on the file input's label.\n     */\n    onMouseLeave: PropTypes.func,\n\n    /**\n     * An optional function to call when they touchend event is triggered on the file input's label.\n     */\n    onTouchEnd: PropTypes.func,\n\n    /**\n     * An optional function to call when they touchstart event is triggered on the file input's label.\n     */\n    onTouchStart: PropTypes.func,\n\n    iconChildren: deprecated(PropTypes.node, 'Use `icon` instead'),\n    iconClassName: deprecated(PropTypes.string, 'Use `icon` instead'),\n  };\n\n  static defaultProps = {\n    label: 'Select a file',\n    icon: <FontIcon>file_upload</FontIcon>,\n    allowDuplicates: false,\n  };\n\n  state = { hover: false, pressed: false, value: '' };\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.disabled && !nextProps.disabled && this.state.hover) {\n      this.setState({ hover: false });\n    }\n\n    if (nextProps.allowDuplicates && this.state.value) {\n      this.setState({ value: '' });\n    }\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    // I honestly don't remember why this was implemented, but it was copied from the Button\n    // component\n    if (!this.state.pressed && nextState.pressed) {\n      this._timeout = setTimeout(() => {\n        this._timeout = null;\n        if (this._attemptedBlur) {\n          this._attemptedBlur = false;\n\n          this.setState({ pressed: false });\n        }\n      }, 450);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n\n    window.removeEventListener('click', this._blur);\n  }\n\n  _handleChange = (e) => {\n    const { multiple, onChange, allowDuplicates } = this.props;\n    const { files, value } = e.target;\n    if (onChange) {\n      if (!multiple) {\n        onChange(files[0] || null, e);\n      } else {\n        onChange(Array.prototype.slice.call(files), e);\n      }\n    }\n\n    if (!allowDuplicates) {\n      this.setState({ value });\n    }\n  };\n\n  _blur = () => {\n    if (this.props.disabled) {\n      return;\n    }\n\n    if (this._timeout) {\n      this._attemptedBlur = true;\n    } else {\n      this.setState({ pressed: false });\n    }\n  };\n\n  _handleMouseUp = (e) => {\n    if (this.props.onMouseUp) {\n      this.props.onMouseUp(e);\n    }\n\n    this._blur();\n  };\n\n  _handleMouseDown = (e) => {\n    if (this.props.onMouseDown) {\n      this.props.onMouseDown(e);\n    }\n\n    if (!this.props.disabled) {\n      this.setState({ pressed: true });\n    }\n  };\n\n  _handleTouchStart = (e) => {\n    if (this.props.onTouchStart) {\n      this.props.onTouchStart(e);\n    }\n\n    if (!this.props.disabled) {\n      this.setState({ pressed: true });\n    }\n  };\n\n  _handleTouchEnd = (e) => {\n    if (this.props.onTouchEnd) {\n      this.props.onTouchEnd(e);\n    }\n\n    this._blur();\n    captureNextEvent('mouseover');\n  };\n\n  _handleKeyUp = (e) => {\n    if (this.props.onKeyUp) {\n      this.props.onKeyUp(e);\n    }\n\n\n    if ((e.which || e.keyCode) === TAB) {\n      window.addEventListener('click', this._blur);\n      this.setState({ pressed: true });\n    }\n  };\n\n  _handleKeyDown = (e) => {\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(e);\n    }\n\n    const key = e.which || e.keyCode;\n\n    if (key === TAB) {\n      window.removeEventListener('click', this._blur);\n      this.setState({ pressed: false });\n    } else if (key === SPACE || key === ENTER) {\n      e.preventDefault();\n      e.target.click();\n    }\n  };\n\n  _handleMouseOver = (e) => {\n    if (this.props.onMouseOver) {\n      this.props.onMouseOver(e);\n    }\n\n    if (!this.props.disabled) {\n      this.setState({ hover: true });\n    }\n  };\n\n  _handleMouseLeave = (e) => {\n    if (this.props.onMouseLeave) {\n      this.props.onMouseLeave(e);\n    }\n\n    if (!this.props.disabled) {\n      this.setState({ hover: false });\n    }\n  };\n\n  render() {\n    const { hover, pressed } = this.state;\n    const {\n      style,\n      className,\n      labelStyle,\n      labelClassName,\n      label,\n      primary,\n      secondary,\n      flat,\n      id,\n      name,\n      iconBefore,\n      disabled,\n      accept,\n      multiple,\n      swapTheming,\n\n      // Deprecated\n      iconChildren,\n      iconClassName,\n      /* eslint-disable no-unused-vars */\n      icon: propIcon,\n      value: propValue,\n      allowDuplicates,\n      onChange,\n      onKeyUp,\n      onKeyDown,\n      onMouseUp,\n      onMouseDown,\n      onMouseOver,\n      onMouseLeave,\n      onTouchStart,\n      onTouchEnd,\n      /* eslint-enable no-unused-vars */\n      ...props\n    } = this.props;\n    const value = getField(this.props, this.state, 'value');\n    let { icon } = this.props;\n    if (iconClassName || iconChildren) {\n      icon = <FontIcon iconClassName={iconClassName}>{iconChildren}</FontIcon>;\n    }\n\n    let labelChildren = label;\n    if (icon) {\n      icon = React.cloneElement(icon, { inherit: true });\n      labelChildren = <IconSeparator label={label} iconBefore={iconBefore}>{icon}</IconSeparator>;\n    }\n\n    return (\n      <div\n        {...props}\n        style={style}\n        className={cn('md-inline-block md-file-input-container', className)}\n      >\n        <AccessibleFakeInkedButton\n          component=\"label\"\n          htmlFor={id}\n          disabled={disabled}\n          onTouchStart={this._handleTouchStart}\n          onTouchEnd={this._handleTouchEnd}\n          onMouseDown={this._handleMouseDown}\n          onMouseUp={this._handleMouseUp}\n          onKeyDown={this._handleKeyDown}\n          onKeyUp={this._handleKeyUp}\n          onMouseOver={this._handleMouseOver}\n          onMouseLeave={this._handleMouseLeave}\n          style={labelStyle}\n          className={getBtnStyles({\n            flat,\n            raised: !flat,\n            disabled,\n            primary,\n            secondary,\n            hover,\n            swapTheming,\n            pressed,\n          }, labelClassName)}\n        >\n          {labelChildren}\n        </AccessibleFakeInkedButton>\n        <input\n          id={id}\n          name={name}\n          accept={accept}\n          type=\"file\"\n          multiple={multiple}\n          disabled={disabled}\n          aria-hidden=\"true\"\n          className=\"md-file-input\"\n          onChange={this._handleChange}\n          value={value}\n          tabIndex={-1}\n        />\n      </div>\n    );\n  }\n}\n"]}