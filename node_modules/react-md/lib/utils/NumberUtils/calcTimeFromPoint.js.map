{"version":3,"sources":["../../../src/js/utils/NumberUtils/calcTimeFromPoint.js"],"names":["calcTimeFromPoint","isPointInCircle","cx","cy","r","x","y","distance","Math","pow","toDegrees","radians","PI","point","center","innerRadius","minutes","hour12","degrees","atan2","sectors","sectorSize","time","round","isInCircle"],"mappings":";;;;;kBA2BwBA,iB;AA3BxB;;AAEA,SAASC,eAAT,CAAyBC,EAAzB,EAA6BC,EAA7B,EAAiCC,CAAjC,EAAoCC,CAApC,EAAuCC,CAAvC,EAA0C;AACxC,MAAMC,WAAWC,KAAKC,GAAL,CAASP,KAAKG,CAAd,EAAiB,CAAjB,IAAsBG,KAAKC,GAAL,CAASN,KAAKG,CAAd,EAAiB,CAAjB,CAAvC;AACA,SAAOC,YAAYC,KAAKC,GAAL,CAASL,CAAT,EAAY,CAAZ,CAAnB;AACD;;AAED,SAASM,SAAT,CAAmBC,OAAnB,EAA4B;AAC1B,SAAOA,WAAW,MAAMH,KAAKI,EAAtB,CAAP;AACD;;AAED;;;;;;;;;;;;;;;;AAgBe,SAASZ,iBAAT,CAA2Ba,KAA3B,EAAkCC,MAAlC,EAA0CC,WAA1C,EAAuDC,OAAvD,EAAgEC,MAAhE,EAAwE;AACrF,MAAMZ,IAAIQ,MAAMR,CAAN,GAAUS,OAAOT,CAA3B;AACA,MAAMC,IAAIO,MAAMP,CAAN,GAAUQ,OAAOR,CAA3B;AACA,MAAMY,UAAUR,UAAUF,KAAKW,KAAL,CAAWb,CAAX,EAAcD,CAAd,CAAV,CAAhB;AACA,MAAMe,UAAUJ,UAAU,EAAV,GAAe,EAA/B;AACA,MAAMK,aAAa,MAAMD,OAAzB;AACA,MAAIE,OAAOd,KAAKe,KAAL,CAAWL,UAAUG,UAArB,CAAX;;AAEA;AACA;AACAC,UAASN,UAAU,EAAV,GAAe,CAAxB;;AAEA;AACA,MAAIM,OAAO,CAAX,EAAc;AACZA,YAAQF,OAAR;AACD;;AAGD;AACA;AACA,MAAI,CAACJ,OAAD,IAAY,CAACC,MAAjB,EAAyB;AACvB,QAAMO,aAAavB,gBAAgB,CAAhB,EAAmB,CAAnB,EAAsBc,WAAtB,EAAmCV,CAAnC,EAAsCC,CAAtC,CAAnB;;AAEA,QAAKgB,SAAS,CAAT,IAAc,CAACE,UAAhB,IAAgCF,SAAS,CAAT,IAAcE,UAAlD,EAA+D;AAC7DF,cAAQ,EAAR;AACD;AACF;;AAED,SAAOA,IAAP;AACD","file":"calcTimeFromPoint.js","sourcesContent":["/** @module utils/NumberUtils/calcTimeFromPoint */\n\nfunction isPointInCircle(cx, cy, r, x, y) {\n  const distance = Math.pow(cx - x, 2) + Math.pow(cy - y, 2);\n  return distance <= Math.pow(r, 2);\n}\n\nfunction toDegrees(radians) {\n  return radians * (180 / Math.PI);\n}\n\n/**\n * Takes a point from a mouse or touch event and a center point of a circle to determine\n * what the new time should be.\n *\n * If the point.y < center.y, the point is in the top half of the circle.\n * If the point.x < center.x, the point is in the left half of the circle.\n *\n * @param {Object} point - The mouse or touch event's point that contains an x and y coordinate.\n * @param {Object} center - The center point for the circle that contains an x and y coordinate.\n * @param {Number} innerRadius - An inner radius for clocks that have 24 hour times. This is\n *    a circle that contains hours 12-23.\n * @param {Boolean} minutes - Boolena if the current time to be calculated is minutes instead of\n *    hours.\n * @param {Boolean} hour12 - Boolean if the clock is a 12 hour clock.\n * @return {Number} the new time.\n */\nexport default function calcTimeFromPoint(point, center, innerRadius, minutes, hour12) {\n  const x = point.x - center.x;\n  const y = point.y - center.y;\n  const degrees = toDegrees(Math.atan2(y, x));\n  const sectors = minutes ? 60 : 12;\n  const sectorSize = 360 / sectors;\n  let time = Math.round(degrees / sectorSize);\n\n  // Since the css transform has 0π at π/2 place, we need to offset the\n  // time to that location.\n  time += (minutes ? 15 : 3);\n\n  // If time is still negative, it is in the top half of the circle\n  if (time < 0) {\n    time += sectors;\n  }\n\n\n  // Finally, if it is a 24 hour clock, need to check if the point is actually\n  // selecting hours 13 - 24 (0).\n  if (!minutes && !hour12) {\n    const isInCircle = isPointInCircle(0, 0, innerRadius, x, y);\n\n    if ((time === 0 && !isInCircle) || (time !== 0 && isInCircle)) {\n      time += 12;\n    }\n  }\n\n  return time;\n}\n"]}